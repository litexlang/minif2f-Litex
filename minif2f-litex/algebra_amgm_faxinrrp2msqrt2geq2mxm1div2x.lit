"""
Problem: algebra_amgm_faxinrrp2msqrt2geq2mxm1div2x

Informal Statement:
Let $x$ be a positive real number. Show that $2 - \sqrt{2} \geq 2 - x - \frac{1}{2x}$.

Formal Statement:
theorem algebra_amgm_faxinrrp2msqrt2geq2mxm1div2x :
  ∀ x > 0, 2 - Real.sqrt 2 ≥ 2 - x - 1 / (2 * x) := by

Goal:
⊢ ∀ x > 0, 2 - √2 ≥ 2 - x - 1 / (2 * x)

"""

prove:
    know forall a, b R: a > 0, b > 0 => a + b >= 2 * sqrt(a * b)
    know forall a, b R: a > 0, b > 0 => a / b > 0
    know forall a, b R: a >= 0, b >= 0 => a * sqrt(b) = sqrt(a ^ 2 * b)
    know forall a, b R: a >= b => -b >= -a
    know forall a, b, c R: a >= b => c + a >= c + b
    
    claim:
        forall x R:
            x > 0
            =>:
                2 - sqrt(2) >= 2 - x - 1 / (2 * x)
        prove:
            2 * x > 0
            1 / (2 * x) > 0
            x + 1 / (2 * x) >= 2 * sqrt(x * (1 / (2 * x)))
            =:
                2 * sqrt(x * (1 / (2 * x)))
                2 * sqrt(1 / 2)
                sqrt(2)
            x + 1 / (2 * x) >= sqrt(2)
            - sqrt(2) >= - (x + 1 / (2 * x))
            2 + (- sqrt(2)) >= 2 + (- (x + 1 / (2 * x)))
            2 - sqrt(2) >= 2 - x - 1 / (2 * x)